# Living Museum Madrid - Copilot Instructions

## Project Overview
Living Museum Madrid is a Next.js 15 application showcasing an art and mental health project. The site features artist profiles, project information, and team details in a bilingual (Spanish/English) format.

## Tech Stack
- **Framework**: Next.js 15 with TypeScript
- **Styling**: Tailwind CSS
- **Content**: JSON-based content management
- **Deployment**: Static export ready
- **Languages**: Spanish (primary), English support planned

## Architecture & File Structure

### Core Directories
- `/src/app/` - Next.js App Router pages
- `/src/components/` - React components organized by type
- `/src/content/` - TypeScript content loaders
- `/public/content/` - JSON content files and media
- `/public/pages/` - Page-specific JSON data and media

### Component Organization
```
/src/components/
├── elements/          # Atomic components (Button, Image, Text)
├── pages/            # Page-specific components
│   ├── home/         # Homepage components
│   ├── artistas/     # Artists page components
│   └── quienes-somos/ # About page components
└── shared/           # Shared/layout components
```

### Content Management
- **Individual Artist Data**: Each artist has their own JSON file in `/public/content/artistas/[artist-slug]/[artist-slug].json`
- **Page Data**: Located in `/public/pages/[page-name].es.json`
- **Content Loaders**: TypeScript files in `/src/content/` import and process JSON data

## Design System & Styling

### Color Scheme
The site uses a **light theme** with consistent branding:
- **Primary Backgrounds**: `bg-white`, `bg-gray-50`
- **Accent Color**: `text-yellow-500` for headings and highlights
- **Text Colors**: 
  - Primary: `text-gray-900`
  - Secondary: `text-gray-600`, `text-gray-700`
- **Cards**: White backgrounds with subtle shadows

### Typography
- **Headings**: Yellow accent color (`text-yellow-500`)
- **Body Text**: Gray scale for hierarchy
- **Font**: System fonts with Tailwind defaults

### Key Design Patterns
- Clean, minimal layouts with ample whitespace
- Card-based designs for content sections
- Consistent spacing using Tailwind spacing scale
- Responsive design with mobile-first approach

## Content Structure

### Artist Data Format
Each artist JSON file contains:
```json
{
  "id": "artist-slug",
  "name": "Artist Name",
  "description": "Artist bio",
  "featuredImage": "/content/artistas/artist-slug/featured.jpg",
  "artworks": [
    {
      "id": "artwork-id",
      "title": "Artwork Title",
      "description": "Description",
      "image": "/content/artistas/artist-slug/artwork-image.jpg"
    }
  ]
}
```

### Page Data Format
Page JSON files contain:
```json
{
  "hero": {
    "title": "Page Title",
    "description": "Page description"
  },
  "sections": [
    // Page-specific sections
  ]
}
```

## Development Guidelines

### Code Style
- Use TypeScript for all new files
- Follow React functional component patterns
- Use Tailwind classes for styling (avoid custom CSS)
- Implement proper TypeScript interfaces for all data structures
- Avoid barrel files (index.ts) to maintain clarity in imports
- Avoid props destructuring in component definitions to ensure clarity and maintainability

### Component Guidelines
- **Atomic Design**: Build reusable components in `/elements/`
- **Props**: Use TypeScript interfaces for all component props
- **Naming**: Use PascalCase for components, camelCase for props
- **Responsiveness**: Mobile-first approach with Tailwind responsive utilities

### Content Guidelines
- **Images**: Store in `/public/content/artistas/[artist-slug]/` for artist-specific content
- **JSON**: Validate structure matches TypeScript interfaces
- **Localization**: Prepare for multilingual support (currently Spanish)

## Known Issues & Considerations

### Image Management
- **Issue**: Some artwork images were incorrectly downloaded as HTML error pages
- **Solution**: Use corrected download script with proper `/2025/02/` URLs
- **Location**: Artist images should be in `/public/content/artistas/[artist-slug]/`
- **Status**: Featured images for Zarco and Gabriel Pastor Guzmán successfully downloaded and verified

### Data Migration Completed
- ✅ **Artists data** has been successfully restructured from monolithic array to individual JSON files
- ✅ **Backward compatibility** maintained through content loaders
- ✅ **Type safety** preserved with proper TypeScript interfaces
- ✅ **All 9 artists** now have individual JSON files in their respective directories
- ✅ **Content loader updated** to import individual artist files instead of single array

### Recent Updates
- **Styling Migration**: Artists pages updated from dark theme to light theme (matching quienes-somos)
- **Component Updates**: ArtistsPage.tsx and ArtistCard.tsx updated with consistent yellow-500 headings and white/gray backgrounds
- **Build Verification**: Application builds successfully with new data structure

## Common Tasks

### Adding a New Artist
1. Create directory: `/public/content/artistas/[artist-slug]/`
2. Create JSON file: `[artist-slug].json` with proper structure
3. Add artist images to the same directory
4. The content loader will automatically include the new artist

### Adding a New Page
1. Create page component in `/src/app/[page-name]/page.tsx`
2. Create JSON data file in `/public/pages/[page-name].es.json`
3. Create content loader in `/src/content/[page-name].ts`
4. Build page-specific components in `/src/components/pages/[page-name]/`

### Styling New Components
- **Always use Tailwind classes**
- **Follow the light theme**: white/gray backgrounds, yellow accents
- **Maintain consistency** with existing components
- **Test responsiveness** across device sizes

### Content Updates
- **JSON files** are the source of truth for content
- **TypeScript loaders** provide type safety and data processing
- **Restart development server** after JSON changes

## Testing & Deployment

### Development
```bash
npm run dev    # Start development server
npm run build  # Build for production
npm run start  # Start production server
```

### Content Validation
- Ensure all referenced images exist in the public directory
- Validate JSON structure matches TypeScript interfaces
- Test responsive layouts across device sizes

### Pre-deployment Checklist
- [ ] All images properly downloaded and accessible
- [ ] JSON data validates against TypeScript interfaces
- [ ] Build completes without errors
- [ ] Responsive design tested
- [ ] Content displays correctly across all pages

## Best Practices

### Performance
- Optimize images for web (WebP format when possible)
- Use Next.js Image component for automatic optimization
- Minimize JSON file sizes

### Accessibility
- Include proper alt text for all images
- Maintain semantic HTML structure
- Ensure sufficient color contrast

### SEO
- Use descriptive titles and meta descriptions
- Implement proper heading hierarchy (h1, h2, h3)
- Include structured data where appropriate

### Maintainability
- Keep components small and focused
- Use descriptive variable and function names
- Document complex logic with comments
- Maintain consistent file organization

## Emergency Fixes

### Missing Images
1. Check if image files exist in `/public/content/artistas/[artist-slug]/`
2. Verify JSON references match actual file names (case-sensitive)
3. Use corrected download script with `/2025/02/` URLs if images are missing
4. Update JSON data if image paths are incorrect
5. Verify downloaded files are actual images, not HTML error pages

### Build Failures
1. Check TypeScript errors in content loaders
2. Validate JSON structure matches interfaces
3. Ensure all imports resolve correctly
4. Clear Next.js cache: `rm -rf .next`
5. Verify all artist JSON files are properly formatted

### Styling Issues
1. Verify Tailwind classes are valid
2. Check responsive breakpoints
3. Ensure color scheme consistency (light theme with yellow-500 accents)
4. Test across different browsers and devices
5. Confirm theme consistency between artistas and quienes-somos pages

### Data Structure Issues
1. Ensure all artist slugs match directory names exactly
2. Verify content loader imports all artist JSON files correctly
3. Check that page components handle new data structure properly
4. Validate TypeScript interfaces match JSON structure

---

*Last updated: January 2025*
*Project: Living Museum Madrid*
*Framework: Next.js 15 + TypeScript + Tailwind CSS*
*Status: Data restructuring completed, styling unified, image download in progress*
